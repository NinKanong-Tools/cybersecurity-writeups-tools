# Exiftool

### What is Exiftool?
ExifTool is developed by Phil Harvey. It is a platform-independent Perl library coupled with a full-featured command-line implementation for reading, writing and manipulating the metadata across a broad range of files, particularly the JPEG images. This metadata may comprise a bunch of information such as the camera make, file type, permissions, file size etc., though it further offers more details about the photograph, like the exposure, the shutter speed and whether the flash fired or not. ExifTool probably gives us the simplest way to extract metadata from files, as it is free and an open-source program.

## 1. Installation Exiftool
````
sudo apt install libimage-exiftool-perl -y
````
<img width="650" height="199" alt="image" src="https://github.com/user-attachments/assets/3898c0e5-3feb-448b-8a71-052a2e3d2a6f" />


- Check version
````
exiftool -ver
````

<img width="182" height="78" alt="image" src="https://github.com/user-attachments/assets/b3148e11-20e9-42a8-9cf1-b58cc5e16fb2" />


## Usage of exiftool

### 1. Reading Metadata
#### 1. Basic Metadata Extraction
first i have a picture this:

<img width="686" height="538" alt="image" src="https://github.com/user-attachments/assets/e83bf96a-c6ea-4ba0-ba19-3de079efe090" />

````
exiftool '/var/run/vmblock-fuse/blockdir/nqQQtR/test.jpg.jpg'
````
<img width="588" height="413" alt="image" src="https://github.com/user-attachments/assets/b724bef2-3faa-44a2-8668-e1af59bac30e" />

It use to extract the entire metadata of a file.

````
exiftool -H /var/run/vmblock-fuse/blockdir/nqQQtR/test.jpg.jpg
````
<img width="645" height="415" alt="image" src="https://github.com/user-attachments/assets/af73522f-a398-44b5-a022-a20bf96cbba5" />

From the below image, we can see that there is a lot of information stored within these Exif tags.


#### 2. Display Metadata with Tag Names

I have a pictute like this:
<img width="624" height="501" alt="image" src="https://github.com/user-attachments/assets/f010598e-4687-44f8-9d11-c6229d2ff06b" />

if we show metadata with internal tag names instead of descriptions.
````
exiftool -s -all /home/k4n0ng/Pictures/test.jpeg
````
<img width="508" height="416" alt="image" src="https://github.com/user-attachments/assets/162bd550-1c0d-4982-ba1d-df83c722b910" />

- -s to show tag names.


#### 3. Extract Specific Tags
````
exiftool -FileName -ImageSize -EXIF:FNumber -XMP:All /home/k4n0ng/Pictures/test.jpeg
````
<img width="726" height="83" alt="image" src="https://github.com/user-attachments/assets/fd6c6ffe-0314-45dc-967f-1daf25ce6ceb" />

Outputs the file name, image dimensions, aperture (FNumber), and all XMP tags for test.jpeg.

#### 4. List Focal Length for All Files in a Directory
````
exiftool -FocalLength35efl .
exiftool -FocalLength35efl . /home/k4n0ng/Pictures/test.jpeg
````
<img width="534" height="175" alt="image" src="https://github.com/user-attachments/assets/271cdc5a-c4d0-402d-a4cd-cf8dedba78f4" />

- Show the 35mm equivalent focal length for all images in the current directory.
- Queries the FocalLength35efl tag for all files in the current directory (.).


### 2. Writing Metadata
These commands show how to modify metadata in files.

#### 1. Add a Comment to an Image
````
exiftool -Comment="Hello world! " /home/k4n0ng/Pictures/test.jpeg
````
<img width="643" height="578" alt="image" src="https://github.com/user-attachments/assets/2202fe1b-b5b2-41ee-adac-ddfe35da89b1" />

Write a new comment to a JPEG image.


#### 2. Set Copyright Information

Add a copyright notice based on the creation year.
````
exiftool -d %Y -Copyright="Copyright $CreateDate, k4n0ng" /var/run/vmblock-fuse/blockdir/gRq8Dm/test2.jpg
````

Show only the Copyright tag
````
exiftool -Copyright /var/run/vmblock-fuse/blockdir/gRq8Dm/test2.jpg
````

Show multiple related tags (in case Copyright is under XMP/IPTC/EXIF)
````
exiftool -a -G1 -s -Copyright* /var/run/vmblock-fuse/blockdir/gRq8Dm/test2.jpg
````

Show full metadata (search manually)
````
exiftool /var/run/vmblock-fuse/blockdir/gRq8Dm/test2.jpg | grep -i copyright
````
<img width="886" height="365" alt="image" src="https://github.com/user-attachments/assets/01e52cf2-ee2c-476d-84fb-5fab8273b7f8" />

- How to confirm that it coypright or not
- Right-click the image → Properties.
- Go to the Details tab.
- Look under Origin or Copyright field → you’ll see:

<img width="947" height="747" alt="image" src="https://github.com/user-attachments/assets/f67680f1-19da-46bc-9043-422b11576a16" />

- -d %Y to format CreateDate as a year and sets the Copyright tag dynamically.


#### 3. Update Camera Make
````
exiftool -Make="kali" "/var/run/vmblock-fuse/blockdir/HT5Yet/test2.jpg"
````
<img width="617" height="73" alt="image" src="https://github.com/user-attachments/assets/1b14a6e3-b313-490f-8087-053bdead9c84" />

- Replaces the Make tag value (e.g., from “OPPO” to “kali”).

- How to check it:
````
exiftool -Make /var/run/vmblock-fuse/blockdir/HT5Yet/test2.jpg
````

<img width="564" height="75" alt="image" src="https://github.com/user-attachments/assets/d3d5e410-8c50-4221-9ca5-f7a090061745" />



### 3. Removing Metadata
In These commands strip metadata from files.

#### 1. Remove All Metadata
````
exiftool -All= /home/k4n0ng/Pictures/test.jpeg
````
<img width="421" height="72" alt="image" src="https://github.com/user-attachments/assets/19719985-c8fc-4e13-ba00-9a115d048f57" />

- -All= : The All= option deletes all metadata from the file. That includes EXIF, IPTC, XMP, GPS info, camera model, timestamps, etc.


#### 2. Remove GPS Metadata Only
````
exiftool -gps:all= /home/k4n0ng/Pictures/kali.jpg
````
<img width="446" height="85" alt="image" src="https://github.com/user-attachments/assets/8059979c-4717-49c0-b9d5-b06acad87976" />

In this it will removes all GPS tags.


### 4. Copying/Moving Metadata

#### 1. Copy Metadata from One File to Another
````
exiftool -tagsFromFile '/home/k4n0ng/Pictures/kali.jpg' -all:all '/home/k4n0ng/Pictures/test.jpeg'
````
<img width="829" height="83" alt="image" src="https://github.com/user-attachments/assets/f85853ce-3d54-4c7f-8847-6f739d216db3" />

- -tagsFromFile '/home/k4n0ng/Pictures/test.jpeg' :  Copy all metadata tags from test.jpeg.
- -all:all : Means copy all possible metadata.

##### 1. check if metadata was copied:
- View metadata of test.jpeg:
````
exiftool /home/k4n0ng/Pictures/test.jpeg
````
<img width="510" height="429" alt="image" src="https://github.com/user-attachments/assets/53d42194-d858-4874-884c-67f18eccb977" />


#### 2. Copy Specific Tags
- Check if Make and Model exist
````
exiftool -Make -Model /home/k4n0ng/Pictures/test.jpeg
````

- If metadata is missing, you need to add it manually first
````
exiftool -Make="Canon" -Model="EOS 80D" /home/k4n0ng/Pictures/test.jpeg
````

- Then you can map them to Subject
````
exiftool "-Subject<Make" "-Subject<Model" /home/k4n0ng/Pictures/test.jpeg
````

- Check existing tags
````
exiftool -Make -Model /home/k4n0ng/Pictures/test.jpeg
````
<img width="640" height="368" alt="image" src="https://github.com/user-attachments/assets/2e52cd45-b50f-40af-a69c-e9a6350b4f72" />

- Check subjeck
````
exiftool -Subject /home/k4n0ng/Pictures/test.jpeg
````
<img width="441" height="96" alt="image" src="https://github.com/user-attachments/assets/56a8c270-042f-469a-9c81-80fdb003ce85" />


#### 3. Copy Metadata from Video to Image
- first i have a video like this:
<img width="552" height="444" alt="image" src="https://github.com/user-attachments/assets/51916d86-0180-4a24-81a6-346324c31cc3" />

````
exiftool -v -r -overwrite_original -tagsFromFile %d%f.mp4 -all:all -xmp:all -exif:all -composite:all -quicktime:all -iptc:all -gps:all '/home/k4n0ng/Videos/test.mp4'
````
<img width="1004" height="410" alt="image" src="https://github.com/user-attachments/assets/ef3631ca-38a0-4d68-902d-8630a624d182" />

- -v → verbose mode, shows detailed info.
- -overwrite_original → updates /home/k4n0ng/Videos/test.mp4 directly.
- -tagsFromFile ../Videos/test.mp4 → source file is your MP4 video.
- -all:all ... -gps:all → copies all types of metadata.
- /home/k4n0ng/Videos/test.mp4 → the target image that will receive the metadata.


- View all metadata of your video:
````
exiftool /home/k4n0ng/Videos/test.mp4
````
<img width="435" height="717" alt="image" src="https://github.com/user-attachments/assets/c31db0c8-5bbb-481f-b555-e6bf34540be7" />

This will list all metadata tags: creation date, modification date, GPS info, XMP, QuickTime, IPTC, etc.

- Check specific tags
````
exiftool -DateTimeOriginal -CreateDate -ModifyDate -GPSLatitude -GPSLongitude /home/k4n0ng/Videos/test.mp4
````
<img width="790" height="76" alt="image" src="https://github.com/user-attachments/assets/38a66de0-849d-4e44-9f3e-17e1cf2ef335" />


### 5. Renaming Files Based on Metadata

#### 1. Rename Files Using Date/Time
````
exiftool -r 'kali.jpg<DateTimeOriginal' -d %Y-%m-%d_%H-%M-%S%%lc.%%e .
````
<img width="533" height="704" alt="image" src="https://github.com/user-attachments/assets/5c665033-ffc6-4a82-a814-797f6daeaac3" />

- -r : Recursively process files in the current folder and all subfolders.
- '-FileName<DateTimeOriginal' : Tells ExifTool to rename the file using the DateTimeOriginal tag (when the photo/video was taken).
- -d %Y-%m-%d_%H-%M-%S%%lc.%%e : Specifies the date format for the new filename:
     - %Y → 4-digit year
     - %m → 2-digit month
     - %d → 2-digit day
     - %H → hour (24h)
     - %M → minute
     - %S → second
     - %%lc → converts the original filename to lowercase letters
     - %%e → keeps the original file extension
- . : Process all files in the current directory (and subfolders because of -r).


### 6. Geotagging

#### 1. Geotag Images from a GPS Track Log
````
exiftool -plot GPSAltitude .
````
<img width="821" height="584" alt="image" src="https://github.com/user-attachments/assets/18f10362-0e8c-47f6-b129-f2d7ae8dfd00" />

- -plot GPSAltitude : Tells ExifTool to generate a plot/graph of the GPSAltitude metadata from your images.
   - GPSAltitude = the altitude (height above sea level) stored in the GPS metadata of each image.
   - ExifTool will create a SVG graph showing how the altitude changes across your photos.


### 7. Batch Processing

#### 1. Process All JPEG Files in a Directory
````
exiftool -ext jpg .
````
<img width="490" height="634" alt="image" src="https://github.com/user-attachments/assets/5ce21203-4a69-4e13-86b7-bf79b1732ba5" />

- It will processes only files with a .jpg extension in the current directory. Use --ext to exclude specific extensions.

#### 2. Recursively Process a Directory
- For testing first we need to create 
````
cd Documents
ls
mkdir exiftool_demo
````
in exiftool_demo we need to have picture:
<img width="642" height="454" alt="image" src="https://github.com/user-attachments/assets/484e3b64-6991-4c63-ab83-7e832fb8f4ab" />

<img width="275" height="142" alt="image" src="https://github.com/user-attachments/assets/420c4963-b694-4f87-9b69-6099a50cb193" />

- Extract metadata from all files in a folder and its subfolders
````
exiftool -r ~/Documents/exiftool_demo
````
<img width="589" height="479" alt="image" src="https://github.com/user-attachments/assets/6d5530bc-aa2e-4649-b9cc-765ab0e73703" />

-r : recursively processes all files in the folder (and subfolders if any).

#### 3. Process Specific File Types in a Folder























